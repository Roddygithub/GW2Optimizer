# ========================================
# PRODUCTION CONFIGURATION - GW2Optimizer
# ========================================
# ⚠️  CRITICAL: Never commit this file with real values!
# Copy to .env and fill with production values

# ========================================
# Environment
# ========================================
ENVIRONMENT=production
DEBUG=False

# ========================================
# Security - ROTATE QUARTERLY
# ========================================
# Generated: 2025-11-16
# Next rotation: 2026-02-16
SECRET_KEY=CHANGE_ME_MINIMUM_64_CHARS_LONG_USE_openssl_rand_hex_32_FOR_GENERATION
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ========================================
# Database - PostgreSQL Managed
# ========================================
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://gw2optimizer:CHANGE_ME@your-postgres-host:5432/gw2optimizer_prod

# Connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ========================================
# Redis Cache
# ========================================
REDIS_URL=redis://your-redis-host:6379/0
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5

# Circuit Breaker
REDIS_CIRCUIT_BREAKER_MAX_FAILURES=5
REDIS_CIRCUIT_BREAKER_RESET_TIMEOUT=60

# ========================================
# AI Services
# ========================================
# Mistral AI - Get from https://console.mistral.ai/
MISTRAL_API_KEY=CHANGE_ME_YOUR_MISTRAL_API_KEY

# AI Rate Limiting
AI_RATE_LIMIT_PER_MINUTE=30
AI_RATE_LIMIT_PER_HOUR=500
AI_FALLBACK_ENABLED=True

# ========================================
# Monitoring & Observability
# ========================================
# Sentry Error Tracking - Backend
SENTRY_DSN=https://d7067f5675913b468876ace2ce7cfefd@o4510235525120000.ingest.de.sentry.io/4510235538489424
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# Prometheus Metrics
PROMETHEUS_ENABLED=True
PROMETHEUS_PORT=9090

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=/var/log/gw2optimizer/app.log
LOG_ROTATION=1 day
LOG_RETENTION=90 days

# ========================================
# Security Headers & CORS
# ========================================
# Production domains only
CORS_ORIGINS=https://gw2optimizer.com,https://www.gw2optimizer.com
CORS_CREDENTIALS=True

# Security
SECURE_COOKIES=True
SAMESITE_COOKIES=strict
HSTS_ENABLED=True
HSTS_MAX_AGE=31536000

# ========================================
# Rate Limiting
# ========================================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=2000

# Auth endpoints (stricter)
AUTH_RATE_LIMIT_PER_MINUTE=10
AUTH_RATE_LIMIT_PER_HOUR=50

# ========================================
# Learning System
# ========================================
LEARNING_ENABLED=True
LEARNING_DATA_DIR=/data/learning
MAX_LEARNING_ITEMS=100000
LEARNING_CLEANUP_DAYS=90

# ========================================
# Frontend URL
# ========================================
FRONTEND_URL=https://gw2optimizer.com

# ========================================
# GW2 API
# ========================================
GW2_API_KEY=CHANGE_ME_YOUR_GW2_API_KEY

# ========================================
# Backup & Maintenance
# ========================================
BACKUP_ENABLED=True
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=gw2optimizer-backups

# ========================================
# Performance
# ========================================
WORKERS=4
MAX_REQUESTS=10000
MAX_REQUESTS_JITTER=1000
TIMEOUT=60

# ========================================
# Feature Flags
# ========================================
FEATURE_AI_ENABLED=True
FEATURE_LEARNING_ENABLED=True
FEATURE_METRICS_ENABLED=True
FEATURE_SENTRY_ENABLED=True
